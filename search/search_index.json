{"config":{"lang":["en"],"separator":"[\\s\\-]+","pipeline":["stopWordFilter"]},"docs":[{"location":"","title":"SSO &amp; Spring  : cr\u00e9ez une authentification centralis\u00e9e de A \u00e0 Z","text":""},{"location":"#sequence-0","title":"S\u00e9quence 0","text":"<p>Vid\u00e9o d\u2019introduction pr\u00e9sentant l\u2019\u00e9quipe, le sujet du cours, le d\u00e9roul\u00e9 g\u00e9n\u00e9ral et les objectifs p\u00e9dagogiques</p>"},{"location":"#sequence-1","title":"S\u00e9quence 1","text":"<p>QCM d\u2019\u00e9valuation (test de positionnement) sur les bases de Java, Spring...</p> <p>Rappels des fondamentaux Java : syntaxe, classes, m\u00e9thodes, types...</p>"},{"location":"#sequence-2","title":"S\u00e9quence 2","text":"<p>Docker : Installation et configuration de Docker</p> <p>Cr\u00e9ation d\u2019un projet Spring Boot</p>"},{"location":"#sequence-3","title":"S\u00e9quence 3","text":"<p>Structuration du projet : MVC, packages, d\u00e9pendances</p> <p>Introduction \u00e0 Hibernate &amp; Liquibase</p> <p>Cr\u00e9ation de la couche DAO &amp; Service</p> <p>Mise en place de Spring Security</p> <p>Cr\u00e9ation du serveur d\u2019authentification SSO (OAuth2)</p> <p>Mise en place de l'interface administrateur</p>"},{"location":"sequences/s0/","title":"SSO &amp; Spring  : cr\u00e9ez une authentification centralis\u00e9e de A \u00e0 Z","text":"<p>Bienvenue dans ce cours o\u00f9 l\u2019objectif est de mettre en place une application oauth2 s\u00e9curis\u00e9e, autrement dit un SSO (single sign-on).</p> <p>Vous serez accompagn\u00e9s par :</p> <ul> <li> <p>Mathys Farineau</p> </li> <li> <p>Alan Sapet</p> </li> <li> <p>L\u00e9o Deroin</p> </li> </ul>"},{"location":"sequences/s0/#objectifs-du-cours","title":"Objectifs du cours","text":"<p>\u00c0 la fin du cours, vous serez capables de :</p> <ul> <li>D\u00e9velopper une application backend compl\u00e8te avec Spring Boot</li> <li>G\u00e9rer une base de donn\u00e9es MySQL avec Hibernate</li> <li>Mettre en place une authentification s\u00e9curis\u00e9e avec Spring Security et OAuth2 (SSO)</li> </ul>"},{"location":"sequences/s0/#contenu","title":"Contenu","text":"<p>Voici les grandes \u00e9tapes que nous allons suivre ensemble :</p> <ol> <li>Revoir les bases de Java pour partir sur de bonnes fondations</li> <li>Installer et configurer Docker</li> <li>Cr\u00e9er un projet Spring Boot et structurer l\u2019architecture</li> <li>Travailler avec une base de donn\u00e9es MySQL avec Hibernate</li> <li>S\u00e9curiser l\u2019application avec Spring Security et ajouter un SSO</li> <li>Connecter l\u2019application au frontend (React ou Vue.js)</li> <li>Exercices pratiques, un QCM final et un mini-projet pour valider les acquis</li> </ol>"},{"location":"sequences/s0/#outils","title":"Outils","text":"<p>Pendant la formation, nous allons utiliser :</p> <ul> <li>IntelliJ IDEA pour coder en Java</li> <li>Docker pour g\u00e9rer nos environnements</li> <li>GitHub pour versionner et partager le code</li> <li>Postman pour tester les API (si besoin)</li> </ul>"},{"location":"sequences/s1/fondamentaux/java/","title":"Introduction \u00e0 Java","text":"<p>Java est un langage de programmation orient\u00e9 objet, cr\u00e9\u00e9 en 1995 par James Gosling chez Sun Microsystems (aujourd\u2019hui propri\u00e9t\u00e9 d\u2019Oracle). Son slogan est \"Write once, run anywhere\" (\u00c9cris une fois, ex\u00e9cute partout).</p> <p>Aujourd\u2019hui, Java est surtout utilis\u00e9 dans :</p> <ul> <li>Les applications d\u2019entreprise (banques, assurances, e-commerce\u2026)</li> <li>Le d\u00e9veloppement web (via Spring, Jakarta EE\u2026)</li> <li>Les applications mobiles Android</li> <li>Certains syst\u00e8mes embarqu\u00e9s et logiciels bureautiques</li> </ul> <p>Contrairement \u00e0 des langages compil\u00e9s directement en langage machine (comme le C ou le C++), Java passe par une \u00e9tape interm\u00e9diaire :</p> <ol> <li>Le code source est compil\u00e9 en bytecode</li> <li>Ce bytecode est ensuite ex\u00e9cut\u00e9 par la JVM (Java Virtual Machine)</li> </ol> <p>Ainsi programme \u00e9crit une fois peut tourner sur Windows, Linux, macOS, Android\u2026 sans modification.</p>"},{"location":"sequences/s1/fondamentaux/java/#syntaxe-de-base-en-java","title":"Syntaxe de base en Java","text":""},{"location":"sequences/s1/fondamentaux/java/#structure-minimale-dun-programme-java","title":"Structure minimale d\u2019un programme Java","text":"<pre><code>public class Main {\n    public static void main(String[] args) {\n        System.out.println(\"Hello, world!\");\n    }\n}\n</code></pre> <ul> <li><code>public class Main</code> -&gt; D\u00e9claration d\u2019une classe (ici, la classe <code>Main</code>)</li> <li><code>public static void main(String[] args)</code> -&gt; Point d\u2019entr\u00e9e du programme Java</li> <li><code>System.out.println()</code> -&gt; Affiche du texte dans la console</li> </ul>"},{"location":"sequences/s1/fondamentaux/java/#detail-de-la-methode-main","title":"D\u00e9tail de la m\u00e9thode <code>main</code>","text":"<p>Explication de la ligne :</p> <pre><code>public static void main(String[] args)\n</code></pre> <ul> <li> <p><code>public</code> : c\u2019est un modificateur d\u2019acc\u00e8s.   Cela signifie que la m\u00e9thode <code>main</code> est accessible partout (y compris par la JVM lorsqu\u2019elle d\u00e9marre le programme).</p> </li> <li> <p><code>static</code> : cela indique que la m\u00e9thode appartient \u00e0 la classe et non \u00e0 un objet sp\u00e9cifique.   Autrement dit, on peut ex\u00e9cuter <code>main</code> sans cr\u00e9er d\u2019instance de la classe <code>Main</code>.</p> </li> <li> <p><code>void</code> : c\u2019est le type de retour de la m\u00e9thode.   Ici, <code>void</code> signifie que la m\u00e9thode ne retourne rien.</p> </li> <li> <p><code>String[] args</code> : param\u00e8tre de la m\u00e9thode, qui correspond \u00e0 un tableau de cha\u00eenes de caract\u00e8res.   Il permet de passer des arguments au programme depuis la ligne de commande.</p> </li> </ul>"},{"location":"sequences/s1/fondamentaux/java/#variables-et-types","title":"Variables et types","text":"<p>Java est un langage fortement typ\u00e9 et statiquement typ\u00e9, cela signifie que chaque variable doit avoir un type d\u00e9fini \u00e0 la compilation, et ce type ne peut pas changer ensuite.</p> <p>Voici quelques exemples de d\u00e9claration de variables en Java :</p> <pre><code>int age = 21;          // entier\ndouble poids = 75.5;   // nombre \u00e0 virgule flottante\nboolean isActive = true; // bool\u00e9en\nString nom = \"Jean\";   // cha\u00eene de caract\u00e8res\n</code></pre> <p>Java fournit des types primitifs int\u00e9gr\u00e9s au langage, qui repr\u00e9sentent les valeurs les plus simples.</p> <p>Exemples :</p> <ul> <li><code>int</code> -&gt; nombre entier (ex : 42)</li> <li><code>double</code> -&gt; nombre d\u00e9cimal (ex : 3.14)</li> <li><code>boolean</code> -&gt; valeur logique (true / false)</li> <li><code>char</code> -&gt; un seul caract\u00e8re (ex : <code>'A'</code>)</li> </ul> <p>\u00c0 c\u00f4t\u00e9 des primitifs, Java propose aussi des classes qui servent de types. Exemple :</p> <ul> <li><code>String</code> -&gt; repr\u00e9sente une cha\u00eene de caract\u00e8res (ex : <code>\"Bonjour\"</code>)</li> </ul>"},{"location":"sequences/s1/fondamentaux/java/#conditions","title":"Conditions","text":"<pre><code>int age = 18;\n\nif (age &gt;= 18) {\n    System.out.println(\"Majeur\");\n} else {\n    System.out.println(\"Mineur\");\n}\n</code></pre> <p>On peut tester plusieurs cas diff\u00e9rents gr\u00e2ce \u00e0 <code>else if</code> :</p> <pre><code>int note = 15;\n\nif (note &gt;= 16) {\n    System.out.println(\"Tr\u00e8s bien\");\n} else if (note &gt;= 12) {\n    System.out.println(\"Assez bien\");\n} else if (note &gt;= 10) {\n    System.out.println(\"Passable\");\n} else {\n    System.out.println(\"\u00c9chec\");\n}\n</code></pre> <p>Pour les cas simples, on peut utiliser l\u2019op\u00e9rateur ternaire <code>? :</code> :</p> <pre><code>int age = 20;\nString statut = (age &gt;= 18) ? \"Majeur\" : \"Mineur\";\nSystem.out.println(statut);\n</code></pre>"},{"location":"sequences/s1/fondamentaux/java/#boucles","title":"Boucles","text":"<p>La boucle <code>for</code> est utilis\u00e9e lorsqu\u2019on sait \u00e0 l\u2019avance combien de fois on veut r\u00e9p\u00e9ter une action.</p> <pre><code>for (int i = 0; i &lt; 5; i++) {\n    System.out.println(\"i = \" + i);\n}\n</code></pre> <p>D\u00e9composition :</p> <ul> <li><code>int i = 0</code> -&gt; initialisation (variable de d\u00e9part)</li> <li><code>i &lt; 5</code> -&gt; condition de poursuite</li> <li><code>i++</code> -&gt; incr\u00e9mentation \u00e0 chaque tour</li> </ul> <p>Ici, le programme affiche <code>i</code> de 0 \u00e0 4.</p> <p>La boucle <code>while</code> s\u2019ex\u00e9cute tant que la condition est vraie.</p> <pre><code>int j = 0;\nwhile (j &lt; 5) {\n    System.out.println(\"j = \" + j);\n    j++;\n}\n</code></pre> <p>Ici, la boucle continue tant que <code>j &lt; 5</code>.</p> <p>Le parcours de collection</p> <pre><code>String[] fruits = {\"Pomme\", \"Banane\", \"Orange\"};\n\nfor (String fruit : fruits) {\n    System.out.println(fruit);\n}\n</code></pre> <p>Ici, la boucle parcourt chaque \u00e9l\u00e9ment du tableau sans se soucier de l\u2019index.</p>"},{"location":"sequences/s1/fondamentaux/poo/","title":"La Programmation Orient\u00e9e Objet (POO)","text":"<p>Java est un langage orient\u00e9 objet. Cela signifie que l\u2019on structure le code \u00e0 l\u2019aide de classes et d\u2019objets (les instances de ces classes). La POO permet de mieux organiser le code, de le rendre r\u00e9utilisable, et de repr\u00e9senter des concepts r\u00e9els.</p>"},{"location":"sequences/s1/fondamentaux/poo/#les-concepts","title":"Les concepts","text":"<ul> <li> <p>Classe   Une classe est un mod\u00e8le qui d\u00e9finit des propri\u00e9t\u00e9s (attributs) et des comportements (m\u00e9thodes).   Exemple : une classe <code>Car</code> repr\u00e9sente l\u2019id\u00e9e g\u00e9n\u00e9rale d\u2019une voiture.</p> </li> <li> <p>Objet   Un objet est une instance concr\u00e8te d\u2019une classe.   Exemple : <code>Car myCar = new Car(new Brand(\"Renault\", \"France\"), 2020);</code> cr\u00e9e une voiture sp\u00e9cifique.</p> </li> <li> <p>Attributs   Ce sont les variables qui appartiennent \u00e0 une classe et d\u00e9crivent ses caract\u00e9ristiques.   Exemple : une voiture a une <code>marque</code> et une <code>ann\u00e9e</code>.</p> </li> <li> <p>Constructeur   C\u2019est une m\u00e9thode sp\u00e9ciale qui permet d\u2019initialiser un objet au moment de sa cr\u00e9ation.   Exemple : <code>new Car(new Brand(\"Renault\", \"France\"), 2020);</code> appelle le constructeur de <code>Car</code>.</p> </li> <li> <p>M\u00e9thodes   Ce sont les actions qu\u2019un objet peut effectuer. Elles d\u00e9crivent le comportement.   Exemple : <code>displayInfo()</code> permet d\u2019afficher les informations d\u2019une voiture.</p> </li> <li> <p>Encapsulation   On utilise souvent le mot-cl\u00e9 <code>private</code> pour prot\u00e9ger les attributs, et on fournit des getters et setters pour y acc\u00e9der ou les modifier en toute s\u00e9curit\u00e9.</p> </li> </ul>"},{"location":"sequences/s1/fondamentaux/poo/#exemple-de-classes-et-objets","title":"Exemple de classes et objets","text":"<pre><code>public class Brand {\n    // Attributes\n    private String name;\n    private String country;\n\n    // Constructor\n    public Brand(String name, String country) {\n        this.name = name;\n        this.country = country;\n    }\n\n    // Getters and setters\n    public String getName() {\n        return name;\n    }\n\n    public void setName(String name) {\n        this.name = name;\n    }\n\n    public String getCountry() {\n        return country;\n    }\n\n    public void setCountry(String country) {\n        this.country = country;\n    }\n\n    // toString method\n    @Override\n    public String toString() {\n        return name + \" (\" + country + \")\";\n    }\n}\n\npublic class Car {\n    // Attributes\n    private Brand brand;\n    private int year;\n\n    // Constructor\n    public Car(Brand brand, int year) {\n        this.brand = brand;\n        this.year = year;\n    }\n\n    // Getters and setters\n    public Brand getBrand() {\n        return brand;\n    }\n\n    public void setBrand(Brand brand) {\n        this.brand = brand;\n    }\n\n    public int getYear() {\n        return year;\n    }\n\n    public void setYear(int year) {\n        this.year = year;\n    }\n\n    // Method\n    public void displayInfo() {\n        System.out.println(\"Car: \" + brand.toString() + \", Year: \" + year);\n    }\n}\n</code></pre>"},{"location":"sequences/s1/fondamentaux/poo/#utilisation-des-classes","title":"Utilisation des classes","text":"<pre><code>public class Main {\n    public static void main(String[] args) {\n        Brand renault = new Brand(\"Renault\", \"France\");\n        Car clio = new Car(renault, 2020);\n\n        clio.displayInfo(); \n        // Output: Car: Renault (France), Year: 2020\n    }\n}\n</code></pre>"},{"location":"sequences/s1/fondamentaux/poo/#packages","title":"Packages","text":"<p>Un package permet d\u2019organiser et ranger les classes dans un projet. La diff\u00e9rence avec un dossier classique est que le package fait partie du nom complet de la classe, ainsi on \u00e9vite les conflits de noms.</p> <pre><code>package com.fyc.sso;\n\npublic class User {\n    private String name;\n\n    public User(String name) {\n        this.name = name;\n    }\n\n    public String getName() {\n        return name;\n    }\n\n    public void setName(String name) {\n        this.name = name;\n    }\n}\n</code></pre>"},{"location":"sequences/s1/fondamentaux/poo/#exercice-pratique-30-min-gestion-dune-bibliotheque","title":"Exercice pratique (30 min) : Gestion d\u2019une biblioth\u00e8que","text":"<p>Dans cet exercice, vous allez cr\u00e9er un petit syst\u00e8me pour g\u00e9rer une biblioth\u00e8que, en utilisant les concepts de POO : classes, objets, attributs et m\u00e9thodes.</p>"},{"location":"sequences/s1/fondamentaux/poo/#etapes","title":"\u00c9tapes","text":"<ol> <li> <p>Cr\u00e9er une classe <code>Author</code></p> <ul> <li>Attributs :<ul> <li><code>name</code> (String) -&gt; nom de l\u2019auteur</li> <li><code>country</code> (String) -&gt; pays d\u2019origine</li> </ul> </li> <li>M\u00e9thodes :<ul> <li>Constructeur</li> <li>Getters et setters</li> <li><code>toString()</code> -&gt; retourne <code>\"name (country)\"</code></li> </ul> </li> </ul> </li> <li> <p>Cr\u00e9er une classe <code>Book</code></p> <ul> <li>Attributs :<ul> <li><code>title</code> (String) -&gt; titre du livre</li> <li><code>author</code> (Author) -&gt; auteur du livre</li> <li><code>year</code> (int) -&gt; ann\u00e9e de publication</li> </ul> </li> <li>M\u00e9thodes :<ul> <li>Constructeur</li> <li>Getters et setters</li> <li><code>displayInfo()</code> -&gt; affiche <code>\"Title: &lt;title&gt;, Author: &lt;author&gt;, Year: &lt;year&gt;\"</code></li> </ul> </li> </ul> </li> <li> <p>Cr\u00e9er une classe <code>Library</code></p> <ul> <li>Attributs :<ul> <li><code>name</code> (String) -&gt; nom de la biblioth\u00e8que</li> <li><code>books</code> (ArrayList) -&gt; liste des livres <li>M\u00e9thodes :<ul> <li><code>addBook(Book book)</code> -&gt; ajoute un livre \u00e0 la liste</li> <li><code>removeBook(Book book)</code> -&gt; supprime un livre \u00e0 la liste</li> <li><code>displayBooks()</code> -&gt; affiche tous les livres</li> <li><code>findBooksByAuthor(String authorName)</code> -&gt; affiche tous les livres d\u2019un auteur donn\u00e9</li> <li>Bonus : <code>findBooksAfterYear(int year)</code> -&gt; affiche les livres publi\u00e9s apr\u00e8s une certaine ann\u00e9e</li> </ul> </li>"},{"location":"sequences/s1/fondamentaux/poo/#classe-main-attendu","title":"Classe Main attendu","text":"<pre><code>public class Main {\n    public static void main(String[] args) {\n        Author rowling = new Author(\"J.K. Rowling\", \"UK\");\n        Author orwell = new Author(\"George Orwell\", \"UK\");\n\n        Book hpOne = new Book(\"Harry Potter and the Philosopher's Stone\", rowling, 1997);\n        Book hpTwo = new Book(\"Harry Potter and the Chamber of Secrets\", rowling, 1998);\n        Book nineteenEightyFour = new Book(\"1984\", orwell, 1949);\n\n        Library myLibrary = new Library(\"My Super Library\");\n\n        myLibrary.addBook(hpOne);\n        myLibrary.addBook(hpTwo);\n        myLibrary.addBook(nineteenEightyFour);\n\n        myLibrary.displayBooks();\n\n        ArrayList&lt;Book&gt; booksFromJK = myLibrary.findBooksByAuthor(\"J.K. Rowling\");\n        booksFromJK.forEach(book -&gt; System.out.println(book.displayInfos()));\n\n        ArrayList&lt;Book&gt; booksAfterX = myLibrary.findBooksAfterYear(2000);\n        booksAfterX.forEach(book -&gt; System.out.println(book.displayInfos()));\n    }\n}\n</code></pre>"},{"location":"sequences/s1/fondamentaux/poo/#correction","title":"Correction","text":"<p>Pour vous aider, voici la documentation officielle de Java sur la POO :</p> <ul> <li>Classes et objets</li> <li>Packages</li> </ul>"},{"location":"sequences/s1/positionnement/","title":"Test de positionnement","text":"<p>Avant de commencer ce cours, nous vous proposons un petit test de positionnement. Il comprend des questions de diff\u00e9rents niveaux de difficult\u00e9 \u00e0 travers 50 questions sur Java, Java Spring et Docker. Vous avez 1h pour le compl\u00e9ter. Chaque question rapporte 1 point. A la fin du test, vous obtiendrez un score sur 50. Si vous obtenez un score sup\u00e9rieur ou \u00e9gal \u00e0 40, vous pouvez passer directement au module 2 m\u00eame si nous vous le d\u00e9conseillons.</p> <p>Ce test n'est pas not\u00e9 et n'a pas d'impact sur votre progression dans le cours. Il est l\u00e0 pour vous aider \u00e0 \u00e9valuer votre niveau et \u00e0 identifier les domaines dans lesquels vous pourriez avoir besoin de vous am\u00e9liorer.</p> <p>\u26a0\ufe0f Ce test est \u00e0 faire une seule fois. Si vous le refaites, votre score ne sera pas pris en compte. Bonne chance !</p> <p>Acc\u00e9der au formulaire de positionnement</p>"},{"location":"sequences/s2/docker/","title":"Introduction \u00e0 Docker","text":"<p>Docker est une plateforme de conteneurisation qui permet d'encapsuler une application et ses d\u00e9pendances dans un environnement portable et reproductible. Dans cette s\u00e9quence, l'objectif est de comprendre les principes de base de Docker et d'apprendre \u00e0 construire, ex\u00e9cuter et orchestrer des conteneurs pour des applications Java/Spring Boot.</p>"},{"location":"sequences/s2/docker/#pourquoi-utiliser-docker","title":"Pourquoi utiliser Docker ?","text":"<ul> <li>Isolation des d\u00e9pendances : chaque application s'ex\u00e9cute dans son propre conteneur.</li> <li>Portabilit\u00e9 : m\u00eame comportement entre postes de d\u00e9veloppement, CI et production.</li> <li>Rapidit\u00e9 de d\u00e9ploiement : d\u00e9marrage et mise \u00e0 l'\u00e9chelle simplifi\u00e9s.</li> <li>Coh\u00e9rence : m\u00eame image = m\u00eame comportement.</li> </ul>"},{"location":"sequences/s2/docker/#concepts-cles","title":"Concepts cl\u00e9s","text":"<ul> <li>Image : snapshot immuable contenant l'application et son environnement.</li> <li>Conteneur : instance en cours d'ex\u00e9cution d'une image.</li> <li>Dockerfile : fichier d\u00e9claratif d\u00e9crivant comment construire une image.</li> <li>Registry : d\u00e9p\u00f4t d'images (ex. Docker Hub, registry priv\u00e9e).</li> <li>Volumes : stockage persistant pour les conteneurs.</li> <li>R\u00e9seaux : connectivit\u00e9 entre conteneurs et services.</li> </ul>"},{"location":"sequences/s2/docker/#objectifs-de-la-sequence","title":"Objectifs de la s\u00e9quence","text":"<p>\u00c0 la fin de ce module, vous serez capable de :</p> <ul> <li>Expliquer les principaux concepts de Docker.</li> <li>\u00c9crire un <code>Dockerfile</code> simple pour une application Spring Boot.</li> <li>Construire et tester une image Docker localement.</li> <li>Utiliser <code>docker compose</code> pour ex\u00e9cuter des services li\u00e9s.</li> </ul>"},{"location":"sequences/s2/docker/#prerequis","title":"Pr\u00e9requis","text":"<ul> <li>Docker install\u00e9 (Engine et Docker CLI).  <p>V\u00e9rifier avec : <code>docker --version</code>.</p> </li> <li>Docker Compose pour orchestrer plusieurs services.</li> </ul>"},{"location":"sequences/s2/docker/#ressources-recommandees","title":"Ressources recommand\u00e9es","text":"<ul> <li>Documentation Docker : https://docs.docker.com</li> <li>Tutoriels officiels et exemples pour Java/Spring Boot</li> <li>Exemples pratiques fournis dans la suite de la s\u00e9quence</li> </ul>"},{"location":"sequences/s2/docker/#exercices-pratiques","title":"Exercices pratiques","text":"<ol> <li>Installer Docker et v\u00e9rifier son bon fonctionnement.</li> <li>Cr\u00e9er un projet avec 2 services (phpmyadmin + mariadb) en utilisant Docker Compose.</li> </ol>"},{"location":"sequences/s2/docker/#correction","title":"Correction","text":"<p>TODO: faire un lien vers la correction une fois qu'elle est r\u00e9dig\u00e9e. (video a faire)</p>"},{"location":"sequences/s2/docker/installation/","title":"Installation de Docker (Linux / Windows)","text":"<p>Vous trouverez sur cette page les m\u00e9thodes pour installer Docker et Docker Compose sur Linux et Windows, v\u00e9rifications et \u00e9tapes post\u2011installation adapt\u00e9es \u00e0 des projets Java / Spring Boot.</p> <p>Cette page couvre les deux syst\u00e8mes d'exploitation les plus courants. Pour macOS, r\u00e9f\u00e9rez-vous \u00e0 la documentation officielle Docker.</p>"},{"location":"sequences/s2/docker/installation/#verifications-prealables","title":"V\u00e9rifications pr\u00e9alables","text":"<ul> <li>V\u00e9rifier Docker apr\u00e8s installation :</li> <li><code>docker --version</code></li> <li><code>docker compose version</code></li> <li>Test rapide : <code>docker run --rm hello-world</code></li> </ul>"},{"location":"sequences/s2/docker/installation/#1-installation-linux-ex-debian-ubuntu","title":"1. Installation \u2014 Linux (ex. Debian / Ubuntu)","text":"<ol> <li>Mettre \u00e0 jour et installer les d\u00e9pendances :</li> <li> <p><code>sudo apt update &amp;&amp; sudo apt install -y ca-certificates curl gnupg lsb-release</code></p> </li> <li> <p>Ajouter le repository officiel Docker :</p> </li> <li><code>sudo mkdir -p /etc/apt/keyrings</code></li> <li><code>curl -fsSL https://download.docker.com/linux/ubuntu/gpg | sudo gpg --dearmour -o /etc/apt/keyrings/docker.gpg</code></li> <li> <p><code>echo \"deb [arch=$(dpkg --print-architecture) signed-by=/etc/apt/keyrings/docker.gpg] https://download.docker.com/linux/ubuntu $(lsb_release -cs) stable\" | sudo tee /etc/apt/sources.list.d/docker.list &gt; /dev/null</code></p> </li> <li> <p>Installer Docker Engine et le plugin Compose :</p> </li> <li><code>sudo apt update</code></li> <li> <p><code>sudo apt install -y docker-ce docker-ce-cli containerd.io docker-compose-plugin</code></p> </li> <li> <p>Activer et d\u00e9marrer le service :</p> </li> <li> <p><code>sudo systemctl enable --now docker</code></p> </li> <li> <p>(Optionnel mais recommand\u00e9) Ajouter l'utilisateur au groupe <code>docker</code> pour utiliser Docker sans <code>sudo</code> :</p> </li> <li><code>sudo usermod -aG docker $USER</code></li> <li> <p>Se d\u00e9connecter / reconnecter ou ex\u00e9cuter <code>newgrp docker</code></p> </li> <li> <p>V\u00e9rifier :</p> </li> <li><code>docker --version</code></li> <li><code>docker compose version</code></li> <li><code>docker run --rm hello-world</code></li> </ol> <p>Notes :</p> <ul> <li>Pour d'autres distributions Linux (RHEL, Arch, etc.), suivre la documentation officielle Docker.</li> <li>Sur autres distros (Fedora, CentOS), utiliser la documentation officielle Docker sp\u00e9cifique \u00e0 la distribution.</li> </ul>"},{"location":"sequences/s2/docker/installation/#2-installation-windows-docker-desktop","title":"2. Installation \u2014 Windows (Docker Desktop)","text":"<p>Pr\u00e9requis : - Windows 10 64\u2011bits: \u00e9dition Pro, Enterprise ou Education (ou Windows 11). - Activer la virtualisation; WSL2 recommand\u00e9 pour de meilleures performances.</p> <ol> <li>Installer WSL2 (recommand\u00e9) :</li> <li>Ouvrir PowerShell en administrateur et ex\u00e9cuter :<ul> <li><code>wsl --install</code> (Windows 10/11 r\u00e9cent) ou suivre la doc Microsoft si besoin.</li> </ul> </li> <li> <p>Installer une distribution (ex. Ubuntu) depuis le Microsoft Store.</p> </li> <li> <p>T\u00e9l\u00e9charger et installer Docker Desktop :</p> </li> <li>T\u00e9l\u00e9charger depuis : https://docs.docker.com/desktop/</li> <li> <p>Pendant l'installation, activer l'int\u00e9gration WSL2 si propos\u00e9e.</p> </li> <li> <p>Configuration post\u2011installation :</p> </li> <li>Lancer Docker Desktop, v\u00e9rifier que le moteur est d\u00e9marr\u00e9.</li> <li>Dans les Settings, activer l'int\u00e9gration avec la distribution WSL utilis\u00e9e (ex. Ubuntu).</li> <li> <p>Ajuster m\u00e9moire/proc si n\u00e9cessaire pour Spring Boot (Resources &gt; Advanced).</p> </li> <li> <p>V\u00e9rifier depuis PowerShell ou WSL :</p> </li> <li><code>docker --version</code></li> <li><code>docker compose version</code></li> <li><code>docker run --rm hello-world</code></li> <li>Depuis WSL (recommand\u00e9 pour dev) : <code>docker run --rm hello-world</code></li> </ol> <p>Notes :</p> <ul> <li>Docker Desktop inclut Docker Engine et Docker Compose (plugin).</li> <li>Si vous \u00eates sur Windows Home plus ancien, WSL2 est obligatoire. Pour environnements serveur sans Docker Desktop, utiliser la version Windows Server / MobyEngine (cas avanc\u00e9).</li> </ul>"},{"location":"sequences/s2/docker/installation/#ressources","title":"Ressources","text":"<ul> <li>Documentation Docker : https://docs.docker.com</li> <li>Guide d'installation Docker Desktop : https://docs.docker.com/desktop/</li> <li>Guide WSL2 : https://learn.microsoft.com/windows/wsl</li> </ul>"},{"location":"sequences/s2/init_projet/creation_archi/","title":"Cr\u00e9ation de l\u2019architecture","text":""},{"location":"sequences/s2/init_projet/creation_archi/#arborescence-du-projet","title":"Arborescence du projet","text":"<p>Une fois que l'application Spring Boot est cr\u00e9\u00e9e, il est important de structurer le projet selon le mod\u00e8le MVC.  Voici l'arborescence que nous allons mettre en place :</p> <pre><code>app/\n\u251c\u2500\u2500 src/\n\u2502   \u251c\u2500\u2500 main/\n\u2502   \u2502   \u251c\u2500\u2500 java/\n\u2502   \u2502   \u2502   \u2514\u2500\u2500 com/example/app/\n\u2502   \u2502   \u2502       \u251c\u2500\u2500 controller/\n\u2502   \u2502   \u2502       \u251c\u2500\u2500 model/\n\u2502   \u2502   \u2502       \u251c\u2500\u2500 repository/\n\u2502   \u2502   \u2502       \u2514\u2500\u2500 service/\n\u2502   \u2502   \u2514\u2500\u2500 resources/\n\u2502   \u2502       \u2514\u2500\u2500 db.changelog/\n\u2502   \u2502         \u2514\u2500\u2500 app-changelog.xml\n\u2502   \u2502       \u251c\u2500\u2500 static/\n\u2502   \u2502       \u251c\u2500\u2500 template/\n\u2502   \u2502       \u2514\u2500\u2500 application.properties\n\u2514\u2500\u2500 pom.xml\n</code></pre>"},{"location":"sequences/s2/init_projet/creation_archi/#description-des-dossiers","title":"Description des dossiers","text":"<ul> <li><code>controller/</code> : Contient les classes qui g\u00e8rent les requ\u00eates HTTP et les interactions entre le mod\u00e8le et la vue.</li> <li><code>model/</code> : Contient les classes repr\u00e9sentant les entit\u00e9s de l'application, ainsi que la logique m\u00e9tier.</li> <li><code>repository/</code> : Contient les interfaces qui g\u00e8rent la persistance des donn\u00e9es (CRUD) en interagissant avec la base de donn\u00e9es.</li> <li><code>service/</code> : Contient les classes qui impl\u00e9mentent la logique m\u00e9tier et les r\u00e8gles de gestion.</li> <li><code>resources/db.changelog/</code> : Contient les fichiers de migration de la base de donn\u00e9es (Liquibase).</li> <li><code>resources/static/</code> : Contient les ressources statiques (CSS, JS, images).</li> <li><code>application.properties</code> : Fichier de configuration de l'application.</li> <li><code>pom.xml</code> : Fichier de configuration Maven pour g\u00e9rer les d\u00e9pendances et les plugins.</li> </ul>"},{"location":"sequences/s2/init_projet/dockerisation/","title":"Dockerisation du projet Spring Boot","text":"<p>Dans cette partie, vous apprendrez \u00e0 dockeriser une application Spring Boot avec une base de donn\u00e9es MariaDB, en utilisant Docker Compose pour orchestrer les services. Vous verrez comment configurer les fichiers Docker, g\u00e9rer les variables d'environnement et lancer l'application en mode d\u00e9veloppement et production.</p>"},{"location":"sequences/s2/init_projet/dockerisation/#role-des-fichiers","title":"R\u00f4le des fichiers","text":""},{"location":"sequences/s2/init_projet/dockerisation/#dockerfile","title":"<code>Dockerfile</code>","text":"<ul> <li>Multi-stage build : utilise une image Maven pour compiler le projet et produire le jar, puis une image JDK l\u00e9g\u00e8re pour ex\u00e9cuter l'application.</li> <li>Avantage : image finale plus l\u00e9g\u00e8re, compilation isol\u00e9e.</li> <li>Points importants : ARG/ENV pour le JAR, <code>ENTRYPOINT</code> passe <code>JAVA_OPTS</code>.</li> </ul>"},{"location":"sequences/s2/init_projet/dockerisation/#docker-composeyml-productionstack-complet","title":"<code>docker-compose.yml</code> (production/stack complet)","text":"<ul> <li>D\u00e9finit trois services : <code>db</code> (MariaDB), <code>app</code> (image build\u00e9e depuis <code>Dockerfile</code>) et <code>phpmyadmin</code>.</li> <li>Utilise <code>env_file: - .env</code> pour centraliser les secrets/config.</li> <li>Monte un volume <code>db_data</code> pour la persistance des donn\u00e9es.</li> <li><code>app</code> d\u00e9pend de <code>db</code> avec <code>depends_on</code>.</li> <li>Mappe le port application via la variable <code>SERVER_PORT</code> et expose <code>3306</code> pour la DB.</li> </ul>"},{"location":"sequences/s2/init_projet/dockerisation/#docker-composedevyml-dev","title":"<code>docker-compose.dev.yml</code> (dev)","text":"<ul> <li>Contient uniquement <code>db</code> (MariaDB) pour que l'application soit lanc\u00e9e depuis l'IDE mais connect\u00e9e \u00e0 une base dockeris\u00e9e.</li> <li>Utiliser en dev quand on veut debug depuis IntelliJ et garder la DB isol\u00e9e.</li> </ul>"},{"location":"sequences/s2/init_projet/dockerisation/#dockerignore","title":"<code>.dockerignore</code>","text":"<ul> <li>Exclut les fichiers inutiles du contexte de build Docker (ex : <code>target/</code>, <code>.git/</code>, etc.) pour acc\u00e9l\u00e9rer la construction de l'image.</li> </ul>"},{"location":"sequences/s2/init_projet/dockerisation/#variables-importantes-dans-env","title":"Variables importantes (dans <code>.env</code>)","text":"<ul> <li><code>MARIADB_DATABASE</code>, <code>MARIADB_USER</code>, <code>MARIADB_PASSWORD</code>, <code>MARIADB_ROOT_PASSWORD</code></li> <li><code>DATASOURCE_URL</code>, <code>DATASOURCE_USERNAME</code>, <code>DATASOURCE_PASSWORD</code> (pour Spring Boot)</li> <li><code>LIQUIBASE_CHANGE_LOG</code> (si Liquibase utilis\u00e9)</li> <li><code>SERVER_PORT</code> (port expos\u00e9 par l'application)</li> <li><code>JAVA_OPTS</code> (options JVM au runtime)</li> </ul> <p>Exemple rapide de <code>DATASOURCE_URL</code> : <code>jdbc:mariadb://db:3306/&lt;DATABASE&gt;?useSSL=false</code></p>"},{"location":"sequences/s2/init_projet/dockerisation/#commandes-utiles","title":"Commandes utiles","text":"<ul> <li> <p>Lancer la DB en dev (app depuis l'IDE) : <code>docker compose -f docker-compose.dev.yml up -d</code></p> </li> <li> <p>Lancer le stack complet (build + run) : <code>docker compose -f docker-compose.yml up --build</code></p> </li> <li> <p>Logs : <code>docker compose -f docker-compose.yml logs -f app</code></p> </li> <li> <p>Arr\u00eater et supprimer volumes : <code>docker compose -f docker-compose.yml down -v</code></p> </li> <li> <p>Inspecter conteneur DB : <code>docker compose -f docker-compose.yml exec db sh</code>   (ou utiliser <code>mysql</code> client selon image)</p> </li> </ul>"},{"location":"sequences/s2/init_projet/dockerisation/#points-de-vigilance-depannage-rapide","title":"Points de vigilance / d\u00e9pannage rapide","text":"<ul> <li>Si <code>docker</code> n\u00e9cessite <code>sudo</code>, ajouter l'utilisateur au groupe <code>docker</code> ou utiliser <code>sudo</code>.</li> <li>Si port 3306 d\u00e9j\u00e0 utilis\u00e9, adapter le mapping local dans <code>docker-compose</code> ou arr\u00eater le service local MySQL.</li> <li>Pour supprimer data corrompue : <code>docker volume rm &lt;project&gt;_db_data</code> (attention perte de donn\u00e9es).</li> <li>Erreurs de build : v\u00e9rifier que <code>pom.xml</code> et <code>src/</code> sont copi\u00e9s correctement dans le <code>Dockerfile</code>.</li> </ul>"},{"location":"sequences/s2/init_projet/dockerisation/#video-explicative","title":"Vid\u00e9o explicative","text":""},{"location":"sequences/s2/init_projet/dockerisation/#ressources-fichiers-a-recuperer-dans-le-projet","title":"Ressources (fichiers \u00e0 r\u00e9cup\u00e9rer dans le projet)","text":"<ul> <li><code>Dockerfile</code></li> <li><code>docker-compose.yml</code></li> <li><code>docker-compose.dev.yml</code></li> <li><code>.env</code> (exemple \u00e0 cr\u00e9er/modifier avant d\u00e9marrage)</li> <li><code>.dockerignore</code></li> </ul> <p>Copier ces fichiers depuis le d\u00e9p\u00f4t local ou les ouvrir dans l'IDE pour modification.</p>"},{"location":"sequences/s3/hibernate_liquibase/hibernate/","title":"Introduction \u00e0 Hibernate","text":""},{"location":"sequences/s3/hibernate_liquibase/hibernate/#quest-ce-quhibernate","title":"Qu\u2019est-ce qu\u2019Hibernate ?","text":"<p>Hibernate est un ORM (Object-Relational Mapping), c\u2019est-\u00e0-dire un outil qui permet de faire le lien entre les objets Java et les tables d\u2019une base de donn\u00e9es relationnelle.</p> <p>En gros, il permet de manipuler des objets Java sans \u00e9crire directement de SQL. C\u2019est Hibernate qui se charge de traduire les op\u00e9rations Java (cr\u00e9ation, lecture, mise \u00e0 jour, suppression) en requ\u00eates SQL.</p>"},{"location":"sequences/s3/hibernate_liquibase/hibernate/#pourquoi-utiliser-hibernate-dans-ce-projet","title":"Pourquoi utiliser Hibernate dans ce projet ?","text":"<p>Hibernate est l'un des ORM les plus populaires et largement utilis\u00e9s dans l'\u00e9cosyst\u00e8me Java. Utiliser un ORM permet de gagner du temps et d'automatiser la gestion des interactions avec la base de donn\u00e9es.</p>"},{"location":"sequences/s3/hibernate_liquibase/hibernate/#exemple-dutilisation-dhibernate","title":"Exemple d\u2019utilisation d\u2019Hibernate","text":"<p>D\u00e9finissons une entit\u00e9 <code>User</code> qui sera mapp\u00e9e \u00e0 une table <code>users</code> dans la base de donn\u00e9es. Tout d'abord, nous cr\u00e9ons la classe <code>User</code> avec les annotations Hibernate n\u00e9cessaires :</p> <pre><code>@Entity\npublic class User {\n    @Id\n    @GeneratedValue(strategy = GenerationType.IDENTITY)\n    private Long id;\n    private String username;\n}\n</code></pre> <p>Ici, on retrouve l'annotation <code>@Entity</code> qui indique qu\u2019il s\u2019agit d\u2019une entit\u00e9 persistante.</p> <p>L\u2019annotation <code>@Id</code> indique que le champ <code>id</code> est la cl\u00e9 primaire de l\u2019entit\u00e9, et <code>@GeneratedValue</code> sp\u00e9cifie que sa valeur sera g\u00e9n\u00e9r\u00e9e automatiquement par la base de donn\u00e9es.</p> <p>De fait, cette entity repr\u00e9sente en base une table SQL :</p> <pre><code>CREATE TABLE users (\n    id BIGINT PRIMARY KEY AUTO_INCREMENT,\n    username VARCHAR(255)\n);\n</code></pre>"},{"location":"sequences/s3/hibernate_liquibase/hibernate/#hibernate-et-jpa","title":"Hibernate et JPA","text":"<p>JPA (Java Persistence API) est une sp\u00e9cification Java EE. Hibernate est une impl\u00e9mentation de cette sp\u00e9cification.</p> <p>JPA d\u00e9finit comment g\u00e9rer la persistance.</p> <p>Hibernate fournit le code concret pour le faire.</p>"},{"location":"sequences/s3/hibernate_liquibase/hibernate/#annotations-principales","title":"Annotations principales","text":"<ul> <li><code>@Entity</code> : Indique qu\u2019une classe est une entit\u00e9 persistante.</li> <li><code>@Table(name = \"table_name\")</code> : Sp\u00e9cifie le nom de la table en base de donn\u00e9es.</li> <li><code>@Id</code> : Indique le champ qui est la cl\u00e9 primaire.</li> <li><code>@GeneratedValue(strategy = GenerationType.IDENTITY)</code> : Sp\u00e9cifie que la valeur de la cl\u00e9 primaire est g\u00e9n\u00e9r\u00e9e automatiquement.</li> <li><code>@Column(name = \"column_name\")</code> : Sp\u00e9cifie le nom de la colonne en base de donn\u00e9es.</li> <li><code>@OneToMany</code>, <code>@ManyToOne</code>, <code>@ManyToMany</code> : D\u00e9finissent les relations entre les entit\u00e9s.</li> </ul>"},{"location":"sequences/s3/hibernate_liquibase/hibernate/#operations-principales","title":"Op\u00e9rations principales","text":"<ul> <li><code>findAll()</code> : R\u00e9cup\u00e9rer toutes les entit\u00e9s d\u2019un type donn\u00e9.</li> <li><code>findById(id)</code> : R\u00e9cup\u00e9rer une entit\u00e9 par son ID.</li> <li><code>save(entity)</code> : Enregistrer une nouvelle entit\u00e9 ou mettre \u00e0 jour une entit\u00e9 existante.</li> <li><code>delete(entity)</code> : Supprimer une entit\u00e9.</li> <li><code>deleteById(id)</code> : Supprimer une entit\u00e9 par son ID.</li> <li><code>deleteAll()</code> : Supprimer toutes les entit\u00e9s d\u2019un type donn\u00e9.</li> <li><code>count()</code> : Compter le nombre d\u2019entit\u00e9s d\u2019un type donn\u00e9.</li> <li><code>existsById(id)</code> : V\u00e9rifier si une entit\u00e9 existe par son ID.</li> <li><code>query()</code> : Ex\u00e9cuter des requ\u00eates personnalis\u00e9es.</li> </ul>"},{"location":"sequences/s3/hibernate_liquibase/hibernate/#operateurs-disponibles","title":"Op\u00e9rateurs disponibles","text":"Op\u00e9rateur Exemple SQL g\u00e9n\u00e9r\u00e9 <code>And</code> <code>findByUsernameAndEmail(String username, String email)</code> <code>SELECT * FROM users WHERE username = ? AND email = ?</code> <code>Or</code> <code>findByUsernameOrEmail(String username, String email)</code> <code>SELECT * FROM users WHERE username = ? OR email = ?</code> <code>Between</code> <code>findByAgeBetween(int start, int end)</code> <code>SELECT * FROM users WHERE age BETWEEN ? AND ?</code> <code>LessThan</code> <code>findByAgeLessThan(int age)</code> <code>SELECT * FROM users WHERE age &lt; ?</code> <code>GreaterThan</code> <code>findByAgeGreaterThan(int age)</code> <code>SELECT * FROM users WHERE age &gt; ?</code> <code>Like</code> <code>findByUsernameLike(String pattern)</code> <code>SELECT * FROM users WHERE username LIKE ?</code> <code>In</code> <code>findByRoleIn(List&lt;String&gt; roles)</code> <code>SELECT * FROM users WHERE role IN (?)</code> <code>OrderBy</code> <code>findByOrderByUsernameAsc()</code> <code>SELECT * FROM users ORDER BY username ASC</code>"},{"location":"sequences/s3/hibernate_liquibase/hibernate/#conclusion","title":"Conclusion","text":"<p>Hibernate est un outil puissant pour g\u00e9rer la persistance des donn\u00e9es dans une application Java. Il simplifie grandement les interactions avec la base de donn\u00e9es en permettant de travailler avec des objets Java plut\u00f4t qu\u2019avec du SQL brut. Dans ce projet, nous utiliserons Hibernate pour g\u00e9rer les entit\u00e9s et les op\u00e9rations CRUD sur la base de donn\u00e9es.</p>"},{"location":"sequences/s3/hibernate_liquibase/hibernate/#sources","title":"Sources","text":"<ul> <li>Documentation officielle Hibernate</li> <li>Guide JPA de Baeldung</li> <li>Spring Data JPA</li> </ul>"},{"location":"sequences/s3/hibernate_liquibase/integration/","title":"Int\u00e9gration d'Hibernate et Liquibase","text":""},{"location":"sequences/s3/hibernate_liquibase/integration/#configuration-du-projet","title":"Configuration du projet","text":"<p>Fichier <code>application.properties</code></p> <p>Voici la configuration utilis\u00e9e :</p> <pre><code>spring.liquibase.change-log=${LIQUIBASE_CHANGE_LOG:classpath:db.changelog/fycsso-changelog.xml}\nspring.jpa.generate-ddl=true\nspring.jpa.hibernate.ddl-auto=update\nspring.jpa.show-sql=true\n</code></pre> <ul> <li><code>spring.liquibase.change-log</code> : Sp\u00e9cifie le chemin du fichier de changelog Liquibase. On utilise une variable   d\u2019environnement <code>LIQUIBASE_CHANGE_LOG</code> pour permettre la personnalisation.</li> <li><code>spring.jpa.generate-ddl</code> : Indique \u00e0 Spring JPA de g\u00e9n\u00e9rer le sch\u00e9ma de la base de donn\u00e9es.</li> <li><code>spring.jpa.hibernate.ddl-auto</code> : D\u00e9finit la strat\u00e9gie de mise \u00e0 jour du sch\u00e9ma. Ici, <code>update</code> permet \u00e0 Hibernate de   mettre \u00e0 jour le sch\u00e9ma en fonction des entit\u00e9s.</li> <li><code>spring.jpa.show-sql</code> : Affiche les requ\u00eates SQL g\u00e9n\u00e9r\u00e9es par Hibernate dans la console pour le d\u00e9bogage.</li> </ul>"},{"location":"sequences/s3/hibernate_liquibase/integration/#structure-des-changelogs-liquibase","title":"Structure des changelogs Liquibase","text":"<p>Liquibase repose sur un fichier ma\u00eetre, ici fycsso-changelog.xml, qui inclut toutes les versions de sch\u00e9ma du projet.</p> <p>Arborescence</p> <pre><code>src/main/resources/db.changelog/\n\u2502\n\u251c\u2500\u2500 fycsso-changelog.xml\n\u2514\u2500\u2500 1.0/\n    \u2514\u2500\u2500 001.xml\n    \u2514\u2500\u2500 002.xml\n\u2514\u2500\u2500 1.1/\n    \u2514\u2500\u2500 001.xml\n    ...\n</code></pre> <p>Contenu du fichier ma\u00eetre fycsso-changelog.xml</p> <pre><code>&lt;?xml version=\"1.0\" encoding=\"UTF-8\"?&gt;\n&lt;databaseChangeLog\n        xmlns=\"http://www.liquibase.org/xml/ns/dbchangelog\"\n        xmlns:xsi=\"http://www.w3.org/2001/XMLSchema-instance\"\n        xsi:schemaLocation=\"http://www.liquibase.org/xml/ns/dbchangelog\nhttps://www.liquibase.org/xml/ns/dbchangelog/dbchangelog-latest.xsd\"&gt;\n\n    &lt;!-- Version 1.0 --&gt;\n    &lt;include file=\"db.changelog/1.0/001.xml\"/&gt;\n\n&lt;/databaseChangeLog&gt;\n</code></pre> <p>Ainsi, chaque version du sch\u00e9ma (1.0, 1.1, etc.) a ses propres fichiers *.xml regroupant les changeSet.</p>"},{"location":"sequences/s3/hibernate_liquibase/integration/#exemple-de-fichier-de-migration-001xml","title":"Exemple de fichier de migration (001.xml)","text":"<pre><code>&lt;?xml version=\"1.0\" encoding=\"UTF-8\"?&gt;\n&lt;databaseChangeLog\n        xmlns=\"http://www.liquibase.org/xml/ns/dbchangelog\"\n        xmlns:xsi=\"http://www.w3.org/2001/XMLSchema-instance\"\n        xsi:schemaLocation=\"http://www.liquibase.org/xml/ns/dbchangelog\n    https://www.liquibase.org/xml/ns/dbchangelog/dbchangelog-latest.xsd\"&gt;\n\n    &lt;changeSet id=\"create-initial-tables\" author=\"mathys\"&gt;\n        &lt;sqlFile path=\"db/scripts/schema.sql\"/&gt;\n    &lt;/changeSet&gt;\n\n&lt;/databaseChangeLog&gt;\n</code></pre> <p>Ici, on inclut un script SQL externe pour cr\u00e9er les tables initiales.</p> <p>Voici le sch\u00e9ma SQL correspondant :</p> <p></p>"},{"location":"sequences/s3/hibernate_liquibase/integration/#integration-avec-hibernate","title":"Int\u00e9gration avec Hibernate","text":"<p>Chaque table SQL correspond \u00e0 une entit\u00e9 Java dans le dossier :</p> <p><code>src/main/java/com/fyc/sso/business/</code></p> <p>Exemple :</p> <pre><code>@Entity\n@Table(name = \"role\")\npublic class Role {\n\n    @Id\n    @GeneratedValue(strategy = GenerationType.IDENTITY)\n    private Integer id;\n\n    private String name;\n    private String description;\n}\n\n</code></pre> <p>Chaque entit\u00e9 a son repository d\u00e9di\u00e9 dans :</p> <p><code>src/main/java/com/fyc/sso/repository</code></p> <p>Exemple :</p> <pre><code>@Repository\npublic interface RoleRepository extends JpaRepository&lt;Role, Integer&gt; {\nOptional&lt;Role&gt; findByName(String name);\n}\n</code></pre> <p>Ainsi, Hibernate g\u00e8re la persistance des entit\u00e9s d\u00e9finies en Java, tandis que Liquibase s'occupe de la gestion des versions du sch\u00e9ma de la base de donn\u00e9es.</p>"},{"location":"sequences/s3/hibernate_liquibase/integration/#evolutions-du-code","title":"\u00c9volutions du code","text":"<p>A la fin de ce chapitre, vous devriez avoir ces modifications dans votre projet :</p> <ul> <li><code>application.properties</code></li> <li><code>fycsso-changelog.xml</code></li> <li><code>001.xml</code></li> </ul>"},{"location":"sequences/s3/hibernate_liquibase/liquibase/","title":"Introduction \u00e0 Liquibase","text":""},{"location":"sequences/s3/hibernate_liquibase/liquibase/#quest-ce-que-liquibase","title":"Qu\u2019est-ce que Liquibase ?","text":"<p>Liquibase est un outil open-source de versioning de base de donn\u00e9es. Il permet de g\u00e9rer, suivre et d\u00e9ployer les changements de sch\u00e9ma, un peu comme Git le fait pour le code.</p>"},{"location":"sequences/s3/hibernate_liquibase/liquibase/#pourquoi-utiliser-liquibase-dans-ce-projet","title":"Pourquoi utiliser Liquibase dans ce projet ?","text":"<p>Dans un projet o\u00f9 la base de donn\u00e9es \u00e9volue fr\u00e9quemment, il est important de garder une trace des modifications apport\u00e9es au sch\u00e9ma. On va alors utiliser Liquibase et des changlogs pour documenter chaque changement. Chaque fois qu\u2019une modification est n\u00e9cessaire (ajout de table, modification de colonne, etc.), on cr\u00e9e un nouveau changelog. Cela permet de s\u2019assurer que toutes les instances de la base de donn\u00e9es sont synchronis\u00e9es avec le sch\u00e9ma attendu par l\u2019application.</p>"},{"location":"sequences/s3/hibernate_liquibase/liquibase/#exemple-dutilisation-de-liquibase","title":"Exemple d\u2019utilisation de Liquibase","text":""},{"location":"sequences/s3/hibernate_liquibase/liquibase/#structure-dun-changelog","title":"Structure d\u2019un changelog","text":"<p>Un changelog est un fichier XML, YAML, JSON ou SQL qui d\u00e9crit les changements \u00e0 apporter \u00e0 la base de donn\u00e9es. Voici un exemple simple en XML :</p> <pre><code>&lt;databaseChangeLog\n    xmlns=\"http://www.liquibase.org/xml/ns/dbchangelog\"\n    xmlns:xsi=\"http://www.w3.org/2001/XMLSchema-instance\"\n    xsi:schemaLocation=\"http://www.liquibase.org/xml/ns/dbchangelog\n        http://www.liquibase.org/xml/ns/dbchangelog/dbchangelog-3.8.xsd\"&gt;\n\n    &lt;changeSet id=\"1\" author=\"votre_nom\"&gt;\n        &lt;createTable tableName=\"users\"&gt;\n            &lt;column name=\"id\" type=\"BIGINT\" autoIncrement=\"true\"&gt;\n                &lt;constraints primaryKey=\"true\"/&gt;\n            &lt;/column&gt;\n            &lt;column name=\"username\" type=\"VARCHAR(255)\"/&gt;\n        &lt;/createTable&gt;\n    &lt;/changeSet&gt;\n&lt;/databaseChangeLog&gt;\n</code></pre>"},{"location":"sequences/s3/hibernate_liquibase/liquibase/#explication-du-changelog","title":"Explication du changelog","text":"<ul> <li><code>&lt;databaseChangeLog&gt;</code> : Racine du fichier de changelog.</li> <li><code>&lt;changeSet&gt;</code> : D\u00e9finit un ensemble de changements \u00e0 appliquer. Chaque <code>changeSet</code> doit avoir un <code>id</code> unique et un <code>author</code>.</li> <li><code>&lt;createTable&gt;</code> : Cr\u00e9e une nouvelle table dans la base de donn\u00e9es.</li> <li><code>&lt;column&gt;</code> : D\u00e9finit une colonne dans la table, avec son nom et son type.</li> <li><code>&lt;constraints&gt;</code> : Sp\u00e9cifie les contraintes sur la colonne, comme la cl\u00e9 primaire.</li> </ul>"},{"location":"sequences/s3/hibernate_liquibase/liquibase/#bonnes-pratiques","title":"Bonnes pratiques","text":"<ul> <li>Utiliser des <code>changeSet</code> petits et sp\u00e9cifiques pour faciliter la gestion des modifications.</li> <li>Documenter chaque <code>changeSet</code> avec des commentaires pour expliquer son but.</li> </ul>"},{"location":"sequences/s3/hibernate_liquibase/liquibase/#sources","title":"Sources","text":"<ul> <li>Documentation officielle de Liquibase</li> <li>Guide d'utilisation de Liquibase avec Spring Boot</li> </ul>"},{"location":"sequences/s3/mvc/rappels/","title":"Rappel et principes de l\u2019architecture MVC","text":"<p>Le MVC (Model-View-Controller) est un mod\u00e8le architectural qui vise \u00e0 s\u00e9parer les responsabilit\u00e9s d\u2019une application en trois couches distinctes et compl\u00e9mentaires :</p> <ul> <li>Model \u2192 repr\u00e9sente les donn\u00e9es, la logique m\u00e9tier et les r\u00e8gles de gestion.</li> <li>View \u2192 g\u00e8re l\u2019affichage et l\u2019interface utilisateur.</li> <li>Controller \u2192 re\u00e7oit les requ\u00eates utilisateur, invoque la logique m\u00e9tier et d\u00e9termine la vue \u00e0 renvoyer.</li> </ul>"},{"location":"sequences/s3/mvc/rappels/#role-de-chaque-couche","title":"R\u00f4le de chaque couche","text":""},{"location":"sequences/s3/mvc/rappels/#model","title":"Model","text":"<p>Le Model contient les entit\u00e9s (objets repr\u00e9sentant les donn\u00e9es, souvent mapp\u00e9es \u00e0 une table de base de donn\u00e9es),  ainsi que la logique m\u00e9tier (les r\u00e8gles fonctionnelles propres \u00e0 l\u2019application) et la persistance des donn\u00e9es.</p> <p>Exemple : L\u2019entit\u00e9 <code>User</code>, li\u00e9e \u00e0 la table <code>users</code> dans la base de donn\u00e9es. </p> <p>Le service <code>UserService</code>, qui contient les traitements li\u00e9s aux utilisateurs. </p> <p>Le repository <code>UserRepository</code>, qui g\u00e8re les op\u00e9rations CRUD (Create, Read, Update, Delete) sur les utilisateurs.</p>"},{"location":"sequences/s3/mvc/rappels/#view","title":"View","text":"<p>La View est charg\u00e9e de pr\u00e9senter les donn\u00e9es au client (sous forme HTML, JSON, XML, etc.). Dans une application Spring Boot REST, la vue n\u2019est pas une page HTML, mais plut\u00f4t les r\u00e9ponses JSON renvoy\u00e9es au client (par exemple une application front-end en React ou Angular).</p> <p>Exemple : Une requ\u00eate HTTP GET vers <code>/api/users/1</code> renvoie une r\u00e9ponse JSON contenant :</p> <pre><code>{\n  \"id\": 1,\n  \"username\": \"dupond\",\n  \"email\": \"Dupond@example.com\"\n}\n</code></pre>"},{"location":"sequences/s3/mvc/rappels/#controller","title":"Controller","text":"<p>Le Controller est l'interm\u00e9diaire entre le client et le serveur. Il re\u00e7oit les requ\u00eates HTTP, appelle les services du mod\u00e8le pour traiter les donn\u00e9es,  et retourne les r\u00e9ponses appropri\u00e9es (souvent sous forme JSON dans une API REST).</p> <p>Exemple : Le <code>UserController</code> qui g\u00e8re les requ\u00eates li\u00e9es aux utilisateurs, comme la r\u00e9cup\u00e9ration, la cr\u00e9ation, la mise \u00e0 jour et la suppression d\u2019utilisateurs.</p> <p><code>GET /api/users/{id}</code> \u2192 R\u00e9cup\u00e9rer un utilisateur par son ID.</p> <p><code>POST /api/users</code> \u2192 Cr\u00e9er un nouvel utilisateur.</p> <p><code>PUT /api/users/{id}</code> \u2192 Mettre \u00e0 jour un utilisateur existant.</p> <p><code>DELETE /api/users/{id}</code> \u2192 Supprimer un utilisateur.</p>"},{"location":"sequences/s3/mvc/rappels/#pourquoi-utiliser-mvc-plutot-quune-architecture-monolithique-ou-non-structuree","title":"Pourquoi utiliser MVC plut\u00f4t qu\u2019une architecture monolithique ou non structur\u00e9e ?","text":"<p>Le mod\u00e8le MVC apporte plusieurs avantages majeurs par rapport \u00e0 une architecture o\u00f9  tout serait centralis\u00e9 dans un m\u00eame bloc de code comme par exemple :</p> <ul> <li>La s\u00e9paration des responsabilit\u00e9s : chaque couche a un r\u00f4le bien d\u00e9fini, ce qui facilite la maintenance et l\u2019\u00e9volution du code.</li> <li>La testabilit\u00e9 : chaque couche peut \u00eatre test\u00e9e ind\u00e9pendamment, ce qui am\u00e9liore la qualit\u00e9 du code.</li> <li>La r\u00e9utilisabilit\u00e9 : les composants de chaque couche peuvent \u00eatre r\u00e9utilis\u00e9s dans d\u2019autres parties de l\u2019application ou dans d\u2019autres projets.</li> </ul>"},{"location":"sequences/s3/mvc/rappels/#sources","title":"Sources","text":"<ul> <li>Mod\u00e8le MVC - Wikipedia</li> </ul>"}]}